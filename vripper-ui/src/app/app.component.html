<div fxLayout="column" *ngIf="connecting()" class="overlay loading" fxLayoutAlign="center center">
  <mat-spinner></mat-spinner>
  <h2>Loading...</h2>
</div>
<div fxLayout="column" *ngIf="noConnectionState()" class="overlay no-connection" fxLayoutAlign="center center">
  <mat-icon class="overlay-icon">error</mat-icon>
  <h2>The app seems to be shutdown</h2>
</div>
<div [ngClass]="{'electron': electronService.isElectronApp}" id="app-container" fxLayout="column" fxLayoutGap="20px">
  <div id="app-header" fxFlex="nogrow">
    <mat-toolbar class="mat-elevation-z8" color="accent">
      <mat-toolbar-row fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px">
        <div id="left-controls">
          <button (click)="scan()" class="add-button" color="primary" mat-icon-button>
            <mat-icon>add</mat-icon>
          </button>
          <button (click)="restartAll()" aria-label="Start" mat-icon-button title="Start">
            <mat-icon>play_arrow</mat-icon>
          </button>
          <button (click)="stopAll()" aria-label="Stop" mat-icon-button title="Stop">
            <mat-icon>stop</mat-icon>
          </button>
          <button (click)="clear()" aria-label="Clear completed" mat-icon-button title="Clear completed">
            <mat-icon>clear_all</mat-icon>
          </button>
          <button (click)="remove()" aria-label="Remove All" mat-icon-button title="Remove All">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
        <span fxFlex="grow" fxLayoutAlign="end center">
          <p style="font-size: 16px">Logged in as: {{loggedUser.user == null || loggedUser.user === '' ? 'guest': loggedUser.user }}</p>
        </span>
        <div id="right-controls">
          <button (click)="openSettings()" aria-label="settings" mat-icon-button>
            <mat-icon>menu</mat-icon>
          </button>
        </div>
      </mat-toolbar-row>
    </mat-toolbar>
  </div>
  <div id="app-body" fxFlex="grow">
    <router-outlet></router-outlet>
    <app-status-bar style="width: 100%"></app-status-bar>
  </div>
</div>
